<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // 序列化一组数据。它可以接受两种不同类型的对象:
    // 一个输入元素数组
    // 一个包含键值对的散列
    // 该函数返回一个序列化的字符串
    function serialize(a) {
        // 一组序列化后的结果
        var s = [];

        // 如果传入一个数组,则假定该数组为表单元素数据
        if ( a.constructor === Array) {
            // 序列化表单元素
            for (var i = 0; i < a.length; i++) {
                s.push( a[i].name + '=' + encodeURIComponent( a[i].value ));
            }
        } else {
            // 将键值对序列化
            for (var j in a)
                s.push( j + '=' + encodeURIComponent( a[j] ));
        }

        // 返回最终结果
        return s.join('&');
    }
    
    var a = {
        name: 'John',
        last: 'Resig',
        city: 'Cambridge',
        zip: '02140'
    };

    var arr = [
        {name: 'name', value: 'John'},
        {name: 'last', value: 'Resig'},
        {name: 'lang', value: 'Javascript'},
        {name: 'lang2', value: 'Perl'},
        {name: 'lang3', value: 'Php'},
    ];
    
    console.log(serialize(a));
    console.log(serialize(arr));
</script>
</body>
</html>